x %>%
del2("種類", 4, 31, 34) %>%
t() ->z
z[,seq(1, ncol(z), by = 7)] %>%
z[-1,] %>%
z %>%
rowname <- c(rep(a:b, 4)) %>%
z <- as.data.frame(z) %>%
colnames(z) <- type1 %>%
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c) %>%
z$金融及保險業 <- count(z$金融及保險業, c) %>%
z$醫療保健服務業 <- count(z$醫療保健服務業, c) %>%
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c) %>%
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
sor <- function(x, a, b, c) {
x %>%
del2("種類", 4, 31, 34) %>%
t() ->z
z[,seq(1, ncol(z), by = 7)] %>%
z[-1,] %>%
z %>%
rowname <- c(rep(a:b, 4)) %>%
z <- as.data.frame(z) %>%
colnames(z) <- type1 %>%
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c) %>%
z$金融及保險業 <- count(z$金融及保險業, c) %>%
z$醫療保健服務業 <- count(z$醫療保健服務業, c) %>%
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
sor <- function(x, a, b, c) {
x %>%
del2("種類", 4, 31, 34) %>%
t() ->z
z[,seq(1, ncol(z), by = 7)]
z[-1,]
z
rowname <- c(rep(a:b, 4))
z <- as.data.frame(z) %>%
colnames() <- type1
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
test1 <- sor(first92_95, 92, 95, 16)
del2(first97_99, "種類", 4, 31, 34)  %>%
t() ->zm
zm
View(zm)
sor <- function(x, a, b, c) {
x %>%
del2("種類", 4, 31, 34) %>%
t() ->z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
z
rowname <- c(rep(a:b, 4))
z <- as.data.frame(z) %>%
colnames() <- type1
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
sor <- function(x, a, b, c) {
x %>%
del2("種類", 4, 31, 34) %>%
t() ->z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
z
rowname <- c(rep(a:b, 4))
z <- as.data.frame(z)
colnames(z) <- type1
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
View(zm)
zm <- z[,seq(1, ncol(z), by = 7)]
zm <- zm[,seq(1, ncol(z), by = 7)]
zm <- zm[,seq(1, ncol(zm), by = 7)]
View(zm)
del2(first97_99, "種類", 4, 31, 34)  %>%
t() ->zm
zm <- zm[,seq(1, ncol(zm), by = 7)]
View(first97_99)
zm <- del2(first97_99, "種類", 4, 31, 34)
View(zm)
zm <- t(zm)
zm <- zm[,seq(1, ncol(zm), by = 7)]
zm <- del2(first97_99, "種類", 4, 31, 34)
zm <- del2(first97_99, "種類", 3, 31, 34)
zm <- t(zm)
zm <- zm[,seq(1, ncol(zm), by = 7)]
zm <- zm[-1,]
rowname1 <- c(rep(97:99, 3))
zm <- as.data.frame(zm)
colnames(zm) <- type1
zm$住宿及餐飲業 <- count(zm$住宿及餐飲業, 12)
zm$金融及保險業 <- count(zm$金融及保險業, 12)
zm$醫療保健服務業 <- count(zm$醫療保健服務業, 12)
zm$`藝術、娛樂及休閒服務業` <- count(zm$`藝術、娛樂及休閒服務業`, 12)
zm$year <- rownames(zm)
zm$住宿及餐飲業
sor <- function(x, a, b, c) {
x <- z[1:c]
x %>%
del2("種類", 4, 31, 34) %>%
t() ->z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
z
rowname <- c(rep(a:b, 4))
z <- as.data.frame(z)
colnames(z) <- type1
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
sor <- function(x, a, b, c) {
rowname <- c(rep(a:b, 4))
x <- as.data.frame(x)
x <- x[,1:c]
x %>%
del2("種類", c, 31, 34) %>%
t() %>%
z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
colnames(z) <- type1
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12)
sor <- function(x, a, b, c, d) {
rowname <- c(rep(a:b, 4))
x <- as.data.frame(x)
x <- x[,1:d]
x %>%
del2("種類", d, 31, 34) %>%
t() %>%
z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
colnames(z) <- type1
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12, 3)
sor <- function(x, a, b, c, d) {
rowname <- c(rep(a:b, 4))
x <- x[,1:d]
x %>%
del2("種類", d, 31, 34) %>%
t() %>%
z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
colnames(z) <- type1
z <- as.data.frame(z)
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12, 3)
rowname <- c(rep(97:99, 4))
zm <- first97_99[,1:3]
View(zm)
zm <- first97_99[,1:3+1]
zm <- first97_99[,1:(3+1)]
zm <- del2(zm, "種類", 3, 31, 34)
sor <- function(x, a, b, c, d) {
rowname <- c(rep(a:b, 4))
z <- x[,1:(d+1)]
z %>%
t() %>%
del2("種類", d, 31, 34) %>%
z
z <- z[,seq(1, ncol(z), by = 7)]
z <- z[-1,]
colnames(z) <- type1
z <- as.data.frame(z)
z$住宿及餐飲業 <- count(z$住宿及餐飲業, c)
z$金融及保險業 <- count(z$金融及保險業, c)
z$醫療保健服務業 <- count(z$醫療保健服務業, c)
z$`藝術、娛樂及休閒服務業` <- count(z$`藝術、娛樂及休閒服務業`, c)
z$year <- rownames(z)
z.melt <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
}
test1 <- sor(first97_99, 97, 99, 12, 3)
zm <- t(zm)
zm <- t(zm)
zm <- zm[-c(1:2), seq(1, 1+9*3, by = 9)]
zm <- zm[seq(1, 1+9*3, by = 9),]
zm <- first97_99[,1:3+1]
zm <- first97_99[,1:(3+1)]
zm <- zm[-c(1:2),]
zm <- zm[seq(1, 1+9*3, by = 9),]
zm <- t(zm)
zm <- first97_99[,1:(3+1)]
zm <- zm[-c(1:2),]
zm <- zm[seq(1, 1+9*3, by = 9),]
zm <- first97_99[,1:(3+1)]
zm <- zm[-c(1:2),]
zm <- zm[seq(1, 1+7*3, by = 7),]
zm <- t(zm)
colnames(zm) <- type1
rownames(zm) <- c(97:99)
type1
colnames(zm) <- type1
zm <- zm[-1,]
colnames(zm) <- type1
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
colnames(z) <- type1
rownames(z) <- rowname
z
}
zm <- sor(first97_99, 97, 99, 12, 3)
zm <- first97_99[,1:(3+1)]
zm <- zm[-c(1:2),]
zm <- zm[seq(1, 1+7*3, by = 7),]
zm <- t(zm)
zm <- as.data.frame(zm)
zm <- zm[-1,]
colnames(zm) <- type1
rownames(zm) <- c(97:99)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z
}
zm <- sor(first97_99, 97, 99, 12, 3)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z$year <- rownames(z)
z <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
z
}
zm <- sor(first97_99, 97, 99, 12, 3)
zm$初任人員薪資 <- count(zm$初任人員薪資, 12)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z$year <- rownames(z)
z <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
z$初任人員薪資 <- count(z$初任人員薪資, c)
}
zm <- sor(first97_99, 97, 99, 12, 3)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z$year <- rownames(z)
z <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
z$初任人員薪資 <- count(z$初任人員薪資, c)
z
}
zm <- sor(first97_99, 97, 99, 12, 3)
View(zm)
t.melt <- bind_rows(t.melt, zm)
pm <- sor(first100_101, 100, 101, 8, 2)
View(first100_101)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z$year <- rownames(z)
z <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
z$初任人員薪資 <- count(z$初任人員薪資, d)
z
}
pm <- sor(first100_101, 100, 101, 8, 2)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,1+7*d, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z$year <- rownames(z)
z <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
z$初任人員薪資 <- count(z$初任人員薪資, c)
z
}
pm <- sor(first97_99, 97, 99, 12, 3)
View(pm)
sor <- function(x, a, b, c, d) {
rowname <- c(a:b)
z <- x[,1:(d+1)]
z <- z[-c(1:2),]
z <- z[seq(1,22, by = 7),]
z <- t(z)
z <- as.data.frame(z)
z <- z[-1,]
colnames(z) <- type1
rownames(z) <- rowname
z$year <- rownames(z)
z <- melt(z, id.var = 'year', variable.name = "行業別", value.name = "初任人員薪資")
z$初任人員薪資 <- count(z$初任人員薪資, c)
z
}
pm <- sor(first100_101, 100, 101, 8, 2)
t.melt <- bind_rows(t.melt, pm)
qm <- sor(first102_104, 102, 104, 8, 2)
View(first102_104)
qm <- sor(first102_104, 102, 104, 12, 3)
View(data_summary)
View(qm)
t.melt <- bind_rows(t.melt, qm)
View(tmp_data)
?key
tmp_data$key <- paste0(tmp_data$行業別, tmp_data$year)
t.melt$key <- paste(t.melt$行業別, t.melt$year)
left_join(tmp_data, t.melt[,3:4], by = "key")
t.melt$key <- paste0(t.melt$行業別, t.melt$year)
left_join(tmp_data, t.melt[,3:4], by = "key")
tmp_data <- left_join(tmp_data, t.melt[,3:4], by = "key")
View(worktime92_95)
type1
h <- worktime92_95[-c(1,2),-1]
h <- as.data.frame(t(h))
colnames(h) <- type1
rownames(h) <- c(92:95)
View(h)
View(h)
work <- function(x, a, b) {
x <- x[-c(1,2), -1]
x <- as.data.frame(t(x))
colnames(x) <- type1
rownames(x) <- c(a, b)
x$year <- rownames(x)
x <- melt(x, id.var = 'year', variable.name = "行業別", value.name = "工作時數")
}
h1 <- work(worktime92_95, 92, 95)
work <- function(x, a, b) {
x <- x[-c(1,2), -1]
x <- as.data.frame(t(x))
colnames(x) <- type1
rownames(x) <- c(a:b)
x$year <- rownames(x)
x <- melt(x, id.var = 'year', variable.name = "行業別", value.name = "工作時數")
}
h1 <- work(worktime92_95, 92, 95)
View(h1)
worktime <- bind_rows(work(worktime92_95, 92, 95), work(worktime97_99, 97, 99), work(worktime100_101), work(worktime102_104, 102, 104))
worktime <- bind_rows(work(worktime92_95, 92, 95), work(worktime97_99, 97, 99), work(worktime100_101,100, 101), work(worktime102_104, 102, 104))
View(worktime)
View(worktime100_101)
View(worktime102_104)
View(worktime92_95)
View(worktime97_99)
View(zm)
View(worktime97_99)
worktime$key <- paste0(worktime$行業別, worktime$year)
tmp_data <- left_join(tmp_data, worktime[,3:4], by = "key")
tmp_data <- bind_cols(tmp_data[,5], tmp_data[,c(1:4,6:7)])
View(employee100_101)
View(first102_104)
View(worktime92_95)
library(swirl)
swirl()
readlines(file(lvr_land.path, encoding = "BIG5"), n = 1)
library(dplR)
readlines(file(lvr_land.path, encoding = "BIG5"), n = 1)
??readLines
library(base)
readlines(file(lvr_land.path, encoding = "BIG5"), n = 1)
library(RGtk2)
readlines(file(lvr_land.path, encoding = "BIG5"), n = 1)
library(stringi)
readlines(file(lvr_land.path, encoding = "BIG5"), n = 1)
library(iterators)
readlines(file(lvr_land.path, encoding = "BIG5"), n = 1)
readLines(file(lvr_land.path, encoding = "BIG5"), n = 1)
readLines(file(lvr_land.path, encoding = "BIG5"), n = 5)
file.info(lvr_land.path) -> lvr_land.info
class(lvr_land.info)
colnames(lvr_land.info)
file.info(lvr_land.info)
file.info("lvr_land.info")
readBin(lvr_land.info)
readBin(lvr_land.info, what = 1)
readBin(lvr_land.info, what = 5)
readBin(lvr_land.info, what = 0)
readBin(lvr_land.info, what = T)
?readBin
readBin(lvr_land.info, what = raw)
readBin(lvr_land.info, what = "raw")
readBin(lvr_land.info, what = integer())
readBin(lvr_land.info, what = integer)
readBin(lvr_land.info, what = character(0L))
readBin(lvr_land.info, what = character)
readBin("lvr_land.info", what = character)
readBin("lvr_land.info", what = raw)
readBin("lvr_land.info", what = raw())
readBin("lvr_land.info", what = raw(), 1)
readBin("lvr_land.info", what = character(), 1)
readBin("lvr_land.info", what = integer(), 1)
skip()
library(stringi)
library(stringi) -> lvr_land.txt
stri_encode(lvr_land.bin, "BIG5", "UTF-8") -> lvr_land.txt
lvr_land.txt <- stri_encode(lvr_land.bin, "BIG-5", "UTF-8")
read.table(lvr_land.path, fileEncoding = "BIG5")
read.table(lvr_land.path, fileEncoding = "BIG-5")
lvr_land <- read.table(lvr_land.path, fileEncoding = "BIG5")
lvr_land <- read.table(file(lvr_land.path, encoding = "BIG5"), header = TRUE, sep = ",")
l10n_info()
read.table(textConnection(lvr_land.txt, encoding = "UTF-8"), header = TRUE, sep = ",")
answer <- read.csv("http://data.gov.tw/node/7307", fileEncoding = "UTF-8")
substitute()
skip
skip()
substitute()
submit()
answer.raw <- readBin(orglist.path, what = "raw", n = file.info(orglist.path)$size)
answer.txt <- stringi::stri_encode(answer.raw, from = "UTF-16", to = "UTF-8")
get_text_connection_by_l10n_info <- function(x) {
info <- l10n_info()
if (info$MBCS & !info$`UTF-8`) {
textConnection(x)
} else {
textConnection(x, encoding = "UTF-8")
}
}
answer <- read.table(get_text_connection_by_l10n_info(answer.txt), header = TRUE, sep = ",")
submit()
submit()
submit()
bye()
swirl()
submit()
submit()
submit()
answer <- read.table(get_text_connection_by_l10n_info(answer.txt), header = TRUE, sep = ",")
submit()
answer <- read.table(get_text_connection_by_l10n_info(answer.txt), header = TRUE, sep = ",")
submit()
